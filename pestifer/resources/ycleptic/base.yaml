# Pestifer 1.6.2
# (c) 2023-2025 Cameron F. Abrams, cfa22@drexel.edu
#
# Ycleptic-format specification for a user's YAML-format pestifer configuration file
#
# The "name" of any directive may appear as a key whose value is specified by "type"
# and any dependent "directives".  Values with scalar types should only appear
# once in any directive set.  Values with list types may have multiple instances
# of each dependent directive.
#
# use "required: True" for scalar values that have no defaults but must be specified
# use "required: False" for any values that should not be assigned defaults
#
docs:
  title: Configuration File Reference
  text: "Pestifer uses YAML-format configuration input for executing a build.  These pages document all YAML directives that can be included in a config file."
directives:
  - name: charmmff
    type: dict
    text: Specifications for charmm force-field parameter and topology files
    required: True
    docs:
      text: "The ``charmff`` directive informs pestifer which CHARMM force-field parameter and topology files are to be used for all psfgen/namd2 executions.  ``standard`` refers to files that are found in the official CHARMMFF release, and are named relative to the topmost ``toppar/`` directory of that release.  ``custom`` refers to files that are not part of the official CHARMMFF release."
    directives:
      - name: standard
        type: dict
        text: Standard charmmff files
        required: True 
        directives:
          - name: topologies
            type: list
            text: Standard charmmff topologies
            required: True
            default:
              - top_all36_prot.rtf
              - top_all35_ethers.rtf
              - top_all36_cgenff.rtf
              - top_all36_lipid.rtf
              - top_all36_carb.rtf
              - top_all36_na.rtf
              - toppar_water_ions.str
              - stream/carb/toppar_all36_carb_glycopeptide.str
              - stream/prot/toppar_all36_prot_modify_res.str
          - name: parameters
            type: list
            text: Standard charmmff parameter files
            required: True
            default:
              - par_all36m_prot.prm
              - par_all36_carb.prm
              - par_all36_lipid.prm
              - par_all36_carb.prm
              - par_all36_na.prm
              - par_all36_cgenff.prm
              - toppar_water_ions.str
              - stream/carb/toppar_all36_carb_glycopeptide.str
              - stream/prot/toppar_all36_prot_modify_res.str
      - name: custom
        type: dict
        text: Custom charmmff files
        required: True 
        directives:
          - name: topologies
            type: list
            text: Custom charmmff topology files
            default:
              - toppar_all36_moreions.str
          - name: parameters
            type: list
            text: Custom charmmff parameter files
            default:
              - toppar_all36_moreions.str
  - name: psfgen
    type: dict
    text: Specifications for the psfgen plugin
    docs:
      text: This directive allows you to define common macros and other psfgen commands used in all psfgen runs
    required: True
    directives:
      - name: aliases
        type: list
        text: Psgfen atom and residue aliases
        required: True 
        default:
          - atom ILE CD1 CD
          - atom BGLCNA C7 C
          - atom BGLCNA O7 O
          - atom BGLCNA C8 CT
          - atom BGLCNA N2 N
          - atom ANE5 C10 C
          - atom ANE5 C11 CT
          - atom ANE5 N5 N
          - atom ANE5 O1A O11
          - atom ANE5 O1B O12
          - atom ANE5 O10 O
          - atom VCG C01 C1
          - atom VCG C01 C1
          - atom VCG C02 C2
          - atom VCG C03 C3
          - atom VCG C04 C4
          - atom VCG C05 C5
          - atom VCG C06 C6
          - atom VCG C07 C7
          - atom VCG C08 C8
          - atom VCG C09 C9
          - atom TIP3 O OH2
          - residue HIS HSD
          - residue PO4 H2PO4
          - residue H2PO H2PO4
          - residue MAN AMAN
          - residue BMA BMAN
          - residue NAG BGLCNA
          - residue NDG AGLCNA
          - residue BGLC BGLCNA
          - residue FUC AFUC
          - residue FUL BFUC
          - residue GAL BGAL
          - residue ANE5 ANE5AC
          - residue SIA ANE5AC
          - residue EIC LIN
          - residue HOH TIP3
          - residue ZN ZN2
          - residue CL CLA
      - name: segtypes
        type: dict
        text: Segment type specifications
        directives:
          - name: protein
            type: dict
            text: Protein segment type specifications
            directives:
              - name: macro
                type: bool
                text: Set to true if you want to make this an atomselect macro
                default: False
              - name: resnames
                type: list
                text: Residue names in proteins
                default:
                  - ALA
                  - ARG
                  - ASN
                  - ASP
                  - CYS
                  - GLN
                  - GLU
                  - GLY
                  - HIS
                  - HSP
                  - HSD
                  - HSE
                  - ILE
                  - LEU
                  - LYS
                  - MET
                  - PHE
                  - PRO
                  - SER
                  - THR
                  - TRP
                  - TYR
                  - VAL
              - name: rescodes
                type: dict
                text: one-letter residue name codes
                default:
                  ALA: A
                  ARG: R
                  ASN: N
                  ASP: D
                  CYS: C
                  GLN: Q
                  GLU: E
                  GLY: G
                  HSE: H
                  ILE: I
                  LEU: L
                  LYS: K
                  MET: M
                  PHE: F
                  PRO: P
                  SER: S
                  THR: T
                  TRP: W
                  TYR: Y
                  VAL: V
          - name: ion
            type: dict
            text: Ion segment specifications
            directives:
              - name: macro
                type: bool
                text: Set to true if you want to make this an atomselect macro
                default: True
              - name: resnames
                type: list
                text: Residue names for ions
                default:
                  - LIT
                  - SOD
                  - MG
                  - POT
                  - CAL
                  - RUB
                  - CES
                  - BAR
                  - ZN
                  - CAD
                  - CL
                  - SO4
                  - PO4
                  - H2PO  # H2PO4 resname
          - name: ligand
            type: dict
            text: Ligand segment specifications
            directives:
              - name: macro
                type: bool
                text: Set to true if you want to make this an atomselect macro
                default: True
              - name: resnames
                type: list
                text: Residue names for ligands
                default:
                  - EIC
                  - VCG
                  - 83G
          - name: glycan
            type: dict
            text: Glycan segment specifications
            directives:
              - name: macro
                type: bool
                text: Set to true if you want to make this an atomselect macro
                default: True
              - name: resnames
                type: list
                text: Glycan residue names
                default:
                  - BGC
                  - MAL
                  - GLC
                  - NDG
                  - SGN
                  - 4YS
                  - NAG
                  - GCS
                  - GCU
                  - QUI
                  - OLI
                  - BMA
                  - MAN
                  - BEM
                  - MAV
                  - RAM
                  - TYV
                  - AHR
                  - ARA
                  - GLA
                  - GAL
                  - NGA
                  - ADA
                  - GL0
                  - GUP
                  - GUL
                  - LGU
                  - ALT
                  - WOO
                  - ALL
                  - TAL
                  - IDO
                  - IDS
                  - FUL
                  - FUC
                  - LYX
                  - ABE
                  - XYP
                  - LXC
                  - XYS
                  - XYL
                  - PAR
                  - RIB
                  - DIG
                  - COL
                  - BAC
                  - API
                  - FRU
                  - TAG
                  - SOR
                  - PSI
                  - DHA
                  - KDN
                  - KDO
                  - NEU
                  - SIA
                  - MUR
                  - GMH
                  - AGLC
                  - BGLC
                  - AALT
                  - BALT
                  - AALL
                  - BALL
                  - AGAL
                  - BGAL
                  - AGUL
                  - BGUL
                  - AIDO
                  - BIDO
                  - AMAN
                  - BMAN
                  - ATAL
                  - BTAL
                  - AXYL
                  - BXYL
                  - AFUC
                  - BFUC
                  - ARHM
                  - BRHM
                  - AGLCA
                  - BGLCA
                  - BGLCA0
                  - AIDOA
                  - BIDOA
                  - AGLCNA
                  - BGLCNA
                  - BGLCN0
                  - AGALNA
                  - BGALNA
                  - ANE5AC
                  - BNE5AC
                  - ABEQ
                  - ARHMOA
                  - MGLYOL
                  - MERYOL
                  - DTHROL
                  - LTHROL
                  - MRIBOL
                  - DARAOL
                  - LARAOL
                  - MXYLOL
                  - MALLOL
                  - DALTOL
                  - LALTOL
                  - DGLUOL
                  - LGLUOL
                  - DMANOL
                  - LMANOL
                  - DGULOL
                  - LGULOL
                  - DIDIOL
                  - LIDIOL
                  - MGALOL
                  - ALLOSE
                  - PSICOS
                  - INI1
                  - INI2
                  - INI3
                  - INI4
                  - INI5
                  - ADEO
                  - BDEO
                  - ARIB
                  - BRIB
                  - AARB
                  - BARB
                  - ALYF
                  - BLYF
                  - AXYF
                  - BXYF
                  - AFRU
                  - BFRU
          - name: lipid
            type: dict
            text: Lipid segment specifications
            directives:
              - name: macro
                type: bool
                text: Set to true if you want to make this an atomselect macro
                default: True
              - name: resnames
                type: list
                text: Lipid residue names
                default:
                  - 23SM
                  - 2HEX
                  - 2PTE
                  - 3HEX
                  - ABLIPA
                  - ABLIPB
                  - ACHO
                  - ACTF
                  - ADR
                  - ADRP
                  - ALIN
                  - ALINP
                  - APPC
                  - ARA
                  - ARAN
                  - ARANP
                  - ARAP
                  - ASM
                  - BCLIPA
                  - BCLIPB
                  - BCLIPC
                  - BEH
                  - BEHP
                  - BSM
                  - BTE1
                  - BTE2
                  - BUTA
                  - C6DHPC
                  - C7DHPC
                  - CER160
                  - CER180
                  - CER181
                  - CER2
                  - CER200
                  - CER220
                  - CER240
                  - CER241
                  - CER3E
                  - CHAPS
                  - CHAPSO
                  - CHL1
                  - CHM1
                  - CHNS
                  - CHOL
                  - CHSD
                  - CHSP
                  - CJLIPA
                  - CTLIPA
                  - CYFOS3
                  - CYFOS4
                  - CYFOS5
                  - CYFOS6
                  - CYFOS7
                  - CYSF
                  - CYSG
                  - CYSL
                  - CYSP
                  - DAPA
                  - DAPC
                  - DAPE
                  - DAPG
                  - DAPS
                  - DCPC
                  - DDA
                  - DDAO
                  - DDAOP
                  - DDAP
                  - DDMG
                  - DDOPC
                  - DDOPE
                  - DDOPS
                  - DDPC
                  - DEPA
                  - DEPC
                  - DEPE
                  - DEPG
                  - DEPS
                  - DGLA
                  - DGLAP
                  - DGPA
                  - DGPC
                  - DGPE
                  - DGPG
                  - DGPS
                  - DHA
                  - DHAP
                  - DHPCE
                  - DIHE
                  - DIPA
                  - DIPE
                  - DLIPC
                  - DLIPE
                  - DLPA
                  - DLPC
                  - DLPE
                  - DLPG
                  - DLPS
                  - DLiPC
                  - DLiPE
                  - DLiPI
                  - DLIPC
                  - DLIPE
                  - DLIPI
                  - DMP
                  - DMPA
                  - DMPC
                  - DMPCE
                  - DMPE
                  - DMPEE
                  - DMPG
                  - DMPI
                  - DMPI13
                  - DMPI14
                  - DMPI15
                  - DMPI24
                  - DMPI25
                  - DMPI2A
                  - DMPI2B
                  - DMPI2C
                  - DMPI2D
                  - DMPI33
                  - DMPI34
                  - DMPI35
                  - DMPS
                  - DNPA
                  - DNPC
                  - DNPE
                  - DNPG
                  - DNPS
                  - DOMG
                  - DOPA
                  - DOPC
                  - DOPCE
                  - DOPE
                  - DOPEE
                  - DOPG
                  - DOPP1
                  - DOPP2
                  - DOPP3
                  - DOPS
                  - DPA
                  - DPAP
                  - DPPA
                  - DPPC
                  - DPPE
                  - DPPEE
                  - DPPG
                  - DPPGK
                  - DPPS
                  - DPT
                  - DPTP
                  - DSPA
                  - DSPC
                  - DSPE
                  - DSPG
                  - DSPS
                  - DTPA
                  - DUPC
                  - DXPC
                  - DXPE
                  - DYPA
                  - DYPC
                  - DYPE
                  - DYPG
                  - DYPS
                  - ECLIPA
                  - ECLIPB
                  - ECLIPC
                  - EDA
                  - EDAP
                  - EICO
                  - EICOP
                  - EPA
                  - EPAP
                  - EPEN
                  - ERG
                  - ERU
                  - ERUP
                  - ETA
                  - ETAC
                  - ETAM
                  - ETAP
                  - ETE
                  - ETEP
                  - ETHE
                  - FOIS11
                  - FOIS9
                  - FOS10
                  - FOS12
                  - FOS13
                  - FOS14
                  - FOS15
                  - FOS16
                  - GH2F
                  - GLA
                  - GLAP
                  - GLPH
                  - GLYC
                  - GLYM
                  - GPC
                  - HEPT
                  - HEXA
                  - HPA
                  - HPAP
                  - HPLIPA
                  - HPLIPB
                  - HTA
                  - HTAP
                  - IPAC
                  - IPPC
                  - KPLIPA
                  - KPLIPB
                  - KPLIPC
                  - LAPAO
                  - LAPAOP
                  - LAU
                  - LAUP
                  - LDAO
                  - LDAOP
                  - LIGN
                  - LIGNP
                  - LILIPA
                  - LIN
                  - LINP
                  - LLPA
                  - LLPC
                  - LLPE
                  - LLPS
                  - LMPG
                  - LNACL1
                  - LNACL2
                  - LNBCL1
                  - LNBCL2
                  - LNCCL1
                  - LNCCL2
                  - LNDCL1
                  - LNDCL2
                  - LOACL1
                  - LOACL2
                  - LOCCL1
                  - LOCCL2
                  - LPC12
                  - LPC14
                  - LPPC
                  - LPPG
                  - LSM
                  - LYSM
                  - MAS
                  - MBUT
                  - MCLIPA
                  - MEA
                  - MEAP
                  - MEEF
                  - MPRO
                  - MP_1
                  - MP_2
                  - MSO4
                  - MYR
                  - MYRO
                  - MYROP
                  - MYRP
                  - NC4
                  - NC5
                  - NDEC
                  - NER
                  - NERP
                  - NGLIPA
                  - NGLIPB
                  - NGLIPC
                  - NHEX
                  - NSM
                  - OLE
                  - OLEP
                  - OSM
                  - OYPE
                  - PAL
                  - PALIPA
                  - PALIPB
                  - PALIPC
                  - PALIPD
                  - PALIPE
                  - PALO
                  - PALOP
                  - PALP
                  - PC
                  - PDAG
                  - PDOPC
                  - PDOPE
                  - PENT
                  - PGHG
                  - PLPA
                  - PLPC
                  - PLPE
                  - PLPG
                  - PLPI
                  - PLPI13
                  - PLPI14
                  - PLPI15
                  - PLPI24
                  - PLPI25
                  - PLPI2A
                  - PLPI2B
                  - PLPI2C
                  - PLPI2D
                  - PLPI33
                  - PLPI34
                  - PLPI35
                  - PLPS
                  - PMCL1
                  - PMCL2
                  - PMPE
                  - PMPG
                  - PMSPE
                  - PMSPG
                  - PNPI
                  - PNPI13
                  - PNPI14
                  - PNPI15
                  - PNPI24
                  - PNPI25
                  - PNPI2A
                  - PNPI2B
                  - PNPI2C
                  - PNPI2D
                  - PNPI33
                  - PNPI34
                  - PNPI35
                  - POPA
                  - POPC
                  - POPCE
                  - POPE
                  - POPEE
                  - POPG
                  - POPI
                  - POPI13
                  - POPI14
                  - POPI15
                  - POPI24
                  - POPI25
                  - POPI2A
                  - POPI2B
                  - POPI2C
                  - POPI2D
                  - POPI33
                  - POPI34
                  - POPI35
                  - POPP1
                  - POPP2
                  - POPP3
                  - POPS
                  - PPPE
                  - PRPE
                  - PSM
                  - PVCL2
                  - PVPE
                  - PVPG
                  - PYPE
                  - PYPG
                  - PYPI
                  - PhPC
                  - QMPE
                  - SAPA
                  - SAPC
                  - SAPE
                  - SAPG
                  - SAPI
                  - SAPI13
                  - SAPI14
                  - SAPI15
                  - SAPI24
                  - SAPI25
                  - SAPI2A
                  - SAPI2B
                  - SAPI2C
                  - SAPI2D
                  - SAPI33
                  - SAPI34
                  - SAPI35
                  - SAPS
                  - SB3-10
                  - SB3-12
                  - SB3-14
                  - SDA
                  - SDAP
                  - SDPA
                  - SDPC
                  - SDPE
                  - SDPG
                  - SDPS
                  - SDS
                  - SELIPA
                  - SELIPB
                  - SELIPC
                  - SFLIPA
                  - SITO
                  - SLPA
                  - SLPC
                  - SLPE
                  - SLPG
                  - SLPS
                  - SOPA
                  - SOPC
                  - SOPE
                  - SOPG
                  - SOPS
                  - SSM
                  - STE
                  - STEP
                  - STIG
                  - TAG
                  - TEA
                  - TETD
                  - THA
                  - THAP
                  - THCHL
                  - THDPPC
                  - TIPA
                  - TLCL1
                  - TLCL2
                  - TMCL1
                  - TMCL2
                  - TOCL1
                  - TOCL2
                  - TPA
                  - TPAP
                  - TPG
                  - TPT
                  - TPTP
                  - TRI
                  - TRIP
                  - TRIPAO
                  - TRPAOP
                  - TSPC
                  - TTA
                  - TTAP
                  - TYCL1
                  - TYCL2
                  - UDAO
                  - UDAOP
                  - UFOS10
                  - VCLIPA
                  - VCLIPB
                  - VCLIPC
                  - VCLIPD
                  - VCLIPE
                  - YOPA
                  - YOPC
                  - YOPE
                  - YOPG
                  - YOPS
                  - YPLIPA
                  - YPLIPB
          - name: water
            type: dict
            text: Water segment specifications
            directives:
              - name: resnames
                type: list
                text: Water residue names
                default:
                  - HOH
          - name: other
            type: dict
            text: Specifications for segments not recognized
            directives:
              - name: resnames
                type: list
                text: Unrecognized residue names
                default: []
  - name: namd
    type: dict
    text: NAMD specifications
    docs:
      text: These are specifications for NAMD, including default input configuration parameters for various classes of simulations.
    directives:
      - name: namd-version
        text: version of NAMD to run
        type: int
        choices: [2, 3]
        default: 3
      - name: processor-type
        text: which processor type to use (cpu or gpu)
        type: str
        choices: [cpu, gpu]
        default: cpu
      - name: gpu-resident
        type: dict
        text: Configuration parameter(s) required for GPU-resident NAMD3
        default:
          GPUResident: on
          margin: 4
      - name: deprecated3
        type: dict
        text: Deprecated namd2 configuration parameters and their namd3 counterparts
        default:
          1-4scaling: oneFourScaling
      - name: generic
        type: dict
        text: Generic NAMD configuration parameters
        default:
          paraTypeCharmm: on
          exclude: scaled1-4
          1-4scaling: 1.0
          cutoff: 10.0
          switching: on
          switchdist: 9.0
          pairlistdist: 11.5
          outputenergies: 100
      - name: vacuum
        type: dict
        text: NAMD parameters for vacuum simulations
        default:
          nonbondedFreq: 1
          fullElectFrequency: 2
          stepspercycle: 4
          dielectric: 80
          timestep: 1.0
          rigidbonds: none
      - name: solvated
        type: dict
        text: NAMD parameters for solvated simulations
        default:
          timestep: 2.0
          rigidbonds: all
          nonbondedFreq: 1
          fullElectFrequency: 2
          stepspercycle: 10
          PME: on 
          pmegridspacing: 1.0
          wrapAll: on
      - name: thermostat
        type: dict
        text: NAMD thermostat parameters
        default:
          langevin: on 
          langevinDamping: 5
          langevinTemp: $temperature
          langevinHydrogen: no 
      - name: barostat
        type: dict
        text: NAMD barostat parameters
        default:
          langevinpiston: on 
          langevinpistontarget: $pressure
          langevinpistonperiod: 200
          langevinpistondecay: 100
          langevinpistontemp: $temperature
          usegrouppressure: yes
          useflexiblecell: no
      - name: harmonic
        type: dict
        text: parameters governing harmonic constraints; not necessarily NAMD-compatible keywords
        default:
          spring_constant: 200
  - name: title
    type: str
    text: Meaningful title (optional)
    default: Pestifer
  - name: paths
    type: dict
    text: Allows user to specify paths for certain resources, including external applications
    docs:
      text: Allows user to specify paths for certain resources, including external applications
    directives:
      - name: namd2
        type: str
        text: Path for namd2 executable
        default: namd2
      - name: namd3
        type: str
        text: Path for namd3 executable, CPU version
        default: namd3
      - name: namd3gpu
        type: str
        text: Path for namd3 executable, GPU version; this must be different from the path for the CPU version if both are to be used in a single Pestifer build
        default: namd3gpu
      - name: charmrun
        type: str
        text: Path for charmrun executable
        default: charmrun
      - name: vmd
        type: str
        text: Path for vmd executable
        default: vmd
      - name: charmmff
        type: str
        text: Path for standard charmm force-field distribution; note that pestifer includes the July 2024 distribution by default
        required: False
      - name: packmol
        type: str
        text: Path to packmol executable
        default: packmol
      - name: catdcd
        type: str
        text: Path to catdcd executable
        default: catdcd
      - name: pdb_depot
        type: str
        text: Path to a user's collection of PDB files for custom lipids or ligands
  - name: tasks
    type: list
    text: Specifies the tasks to be performed serially in a pestifer run
    docs:
      text: These are the types of tasks that can be chained together into a run.
    directives:
      - name: restart
        text: Restart from specified pdb, psf, and (optionally) xsc files without any further modifications (suitable for directly feeding to md tasks)
        type: dict
        directives:
          - name: psf
            text: name of psf file (w/optional psf extension)
            type: str
          - name: pdb
            text: name of pdb file (w/optional pdb extension)
            type: str
          - name: xsc
            text: name of xsc file (w/optional xsc extension)
            type: str
          - name: index
            text: first task index in the restart
            type: int
            default: 0
      - name: psfgen
        text: Parameters controlling a psfgen run on an input molecule
        type: dict
        directives:
          - name: source
            text: Specifies the source of the initial coordinate file
            type: dict
            directives:
              - name: prebuilt
                text: PSF and PDB file of a previously built system
                type: dict
                directives:
                  - name: psf
                    text: name of psf file (includes psf extension)
                    type: str
                  - name: pdb
                    text: name of pdb file (includes pdb extension)
                    type: str
                  - name: xsc
                    text: name of xsc file (includes xsc extension)
                    type: str
              - name: id 
                text: The 4-character PDB ID of the source or the basename of a local coordinate file (PDB or mmCIF format); pestifer will download from the RCSB if a file is not found
                type: str
              - name: alphafold
                type: str
                text: If set, its value signifies an accession code used to download a model from the AlphaFold database. If either prebuilt or id are set, this directive is ignored
              - name: biological_assembly 
                text: integer index of the biological assembly to construct; default is 0, signifying that the asymmetric unit is to be used
                type: int
                default: 0
              - name: transform_reserves
                type: dict
                text: dictionary keyed by chain IDs in the asymmetric unit with values that are lists of chain ID's for symmetry-related chains in other units of the biological assembly
              - name: remap_chainIDs
                type: dict
                text: dictionary mapping of chainIDs in structure input to new chainIDs
              - name: reserialize
                type: bool
                text: If true, resets the serial numbers of all atoms based on their order in the input structure file -- use with caution!!
                default: False
              - name: model
                text: model number to use if there are multiple models in the file
                type: int
              - name: file_format
                text: either PDB or mmCIF; some entries do not have a PDB-format file.  The main advantage of PDB is that it uses the author-designations for chains by default.  mmCIF is the new "default" format of the PDB.
                type: str
                choices: [PDB, mmCIF]
                default: PDB
              - name: cif_residue_map_file
                text: name of output file to write a mapping of CIF chain-residue number to author chain-residue number-insertion
                type: str
              - name: exclude
                text: Specifies any residues or atoms present in the PDB source to exclude from the system
                type: dict
                directives:
                  - name: chains
                    text: Specify list of chain IDs to ignore; in PDB-format input, these are typically author-generated, while in mmCIF they are not.  You must use chain IDs that reference your chosen coordinate file input format.
                    type: list
                    required: False
                  - name: resnames
                    text: Specify list of resnames to ignore; good for excluding waters or ions or small molecules.  Resnames must reference your chosen coordinate input file.
                    type: list
                    required: False
                  - name: resseqnums
                    text: Specify list of resseqnums to ignore
                    type: list
                    required: False
              - name: sequence
                text: Parameters controlling sequence modifications based on specifications in the PDB source
                type: dict
                directives:
                  - name: include_terminal_loops
                    text: Specifies whether or not N- and C- terminal loops (if unresolved) are built in
                    type: bool
                    default: False
                  - name: build_zero_occupancy_C_termini
                    text: List of chain identifiers for which you would like zero-occupancy residues at the C-terminus built in
                    type: list
                    default: []
                  - name: build_zero_occupancy_N_termini
                    text: List of chain identifiers for which you would like zero-occupancy residues at the N-terminus built in
                    type: list
                    default: []
                  - name: fix_engineered_mutations
                    text: Specifies whether or not sequence differences w.r.t. a sequence database and which are labeled as "engineered mutation"s are reverted to their database values
                    type: bool
                    default: True 
                  - name: fix_conflicts 
                    text: Specifies whether or not sequence differences w.r.t. a sequence database and which are labeled as "conflicts"s are reverted to their database values
                    type: bool
                    default: True          
                  - name: loops
                    text: Parameters controlling model-built loops during psfgen
                    type: dict
                    directives:
                      - name: sac_res_name 
                        text: 3-letter code of residue appended to any sufficiently long model-built 
                        type: str
                        default: GLY
                      - name: min_loop_length
                        text: Minimum length of model-built loop that triggers the ligation algorithm
                        type: int
                        default: 4
                      - name: declash
                        text: Specifies how model-built residues are moved to avoid steric clashes
                        type: dict
                        directives:
                          - name: maxcycles
                            text: Maximum number of Metropolis cycles
                            type: int
                            default: 20
                          - name: include_C_termini
                            text: Flag to indicate if model-built C-terminal loops should be declashed
                            type: bool
                            default: True
                  - name: glycans
                    text: parameters controlling how model-built glycans are adjusted, if present
                    type: dict
                    directives:
                      - name: declash
                        text: Specifies how glycan residues are moved to avoid steric clashes
                        type: dict
                        directives:
                          - name: maxcycles
                            text: Maximum number of Metropolis cycles
                            type: int
                            default: 20
                          - name: clashdist
                            text: interatomic distance threshold for clashes in Angstroms
                            type: float
                            default: 1.5
          - name: mods
            text: Specifies modifications to the sequence or structure in the PDB file
            type: dict
            directives:
              - name: mutations
                text: Single-residue mutations, expressed as shortcodes; e.g., C:F32A for mutation of Phe 32 on chain C to an Alanine
                type: list
              - name: ssbonds
                text: additional ssbonds, expressed as shortcodes; e.g., C_154-A_298 to add an ssbond between resids 154 of chain C and 298 of chain A.  Note that the indicated residues must by CYS's.  If they are not, you should include each in a mutation shortcode in the mutations list
                type: list
              - name: ssbondsdelete
                text: existing ssbonds to break, expressed as shortcodes; e.g., C_154-A_298 will break the existing ssbond between resids 154 of chain C and 298 of chain A so that each is a reduced CYS.
                type: list
              - name: links
                text: additional generic bonds, expressed as shortcodes; e.g., C_154_N-A_298_M to add a link between atom N of resid 154 of chain C and atom M of resid 298 of chain A.
                type: list
              - name: deletions
                text: residue ranges to delete, expressed as shortcodes; e.g., C:99-101 deletes residues 99 to 101 (inclusive) of chain C
                type: list
              - name: substitutions
                text: residue ranges to replace with a new sequence; e.g., C:99-101,GG replaces residues 99, 100, and 101 of chain C with two glycines
                type: list
              - name: insertions
                text: sequence of residues to insert C-terminal to a specified residue in a specified chain; e.g., C,123,GRETA inserts the residues Gly123A, Arg123B, Glu123C, Thr123D, and Ala123E immediately C-terminal to residue 123 of chain C; if the resid includes a terminal "+", then inserted resids are incremented as integers
                type: list
              - name: crotations
                text: dihedral angle rotations to reposition modelled-in protein chains or glycans
                type: list
              - name: transrot
                text: global translations and rotations
                type: list
              - name: Cfusions
                text: fuse residues from named residue range of named protein chain of named input PDB coordinate file to C-terminus of named segment of base molecule
                type: list
              - name: grafts
                text: graft residues from named residue range of named chain of named input PDB coordinate file onto target residue of base molecule
                type: list
      - name: ligate
        text: Specifies how C-termini of modeled loops are connected back to the protein
        type: dict
        directives:
          - name: steer
            text: Specifies parameters for steered MD to bring C-termini close to their connection points
            type: dict
            directives:
              - name: cpu-override
                text: Override namd3 processor type since GPUresident namd3 cannot handle restraints (yet)
                type: bool
                default: True
              - name: ensemble
                text: Name of ensemble to run in; note that NPT can only be peformed on a solvated system
                type: str
                choices: [minimize, NVT, NPT]
                default: NVT
              - name: force_constant
                text: force constant (kcal/mol/Angstrom^2)
                type: float
                default: 20
              - name: target_distance
                text: distance (Angstrom) between carbonyl carbon of loop C-terminus and amide nitrogen of connecting residue that steered MD drives to
                type: float
                default: 2
              - name: nsteps
                text: number of MD time steps for steeering
                type: int
                default: 1000
              - name: dcdfreq
                text: number of time steps between configuration output to DCD file
                type: int
                default: 100
              - name: xstfreq
                text: number of time steps between cell size output to DCD file (only used if ensemble is NPT)
                type: int
                default: 100
              - name: temperature
                text: Temperature used in steered MD run
                type: float
                default: 300
              - name: pressure
                text: Pressure used in steered MD run (only used if ensemble is NPT)
                type: float
                default: 1
              - name: receiver_flexible_zone_radius
                text: size of zone around receiver N-terminal N in which CA's are not fixed during steered MD
                type: float
                default: 0.0 # all fixed by default
              - name: constraints
                text: Parameters controlling position constraints
                type: dict
                directives:
                  - name: atoms
                    text: Atoms to be position-constrained expressed as a VMD atomselection string
                    type: string
                  - name: k
                    text: Restraint spring constant in kcal/mol/A^2
                    type: float
                  - name: consfile
                    text: Name of constraints PDB file to generate (defaults to basename-constraints.pdb)
                    type: string
          - name: connect
            text: Specifies parameters of the psfgen run that patches in the new backbone bonds
            type: dict
            directives:
              - name: cleanup
                text: Specifies whether or not to clean up temporary files
                type: bool
                default: True
      - name: mdplot
        text: Generate plot(s) from previous md tasks with same psf
        type: dict
        directives:
          - name: existing-logs
            type: list
            text: list of existing namd logs, in chronological order, from which data to be plotted is to be extracted
            default: []
          - name: existing-xsts
            type: list
            text: list of existing namd xst files, in chronological order, from which data to be plotted is to be extracted
            default: []
          - name: savedata
            type: str
            text: name of CSV file to save all energy-like data
          - name: figsize
            type: list
            text: size of matplotlib figure
            default: [9,6]
          - name: traces
            type: list
            text: List of energy-like quantities to plot vs timestep
            default:
              - density
          - name: units
            type: dict
            text: user-specified units for plots (if other than NAMD standard units)
            default:
              density: g/cc
              a_x: Å
              b_y: Å
              c_z: Å
          - name: legend
            text: include a legend
            type: bool
            default: True
          - name: grid
            text: include a grid
            type: bool
            default: False
          - name: basename
            type: str
            text: Baseame of image file(s) to generate
            default: myplot
      - name: cleave
        text: Parameters controlling cleavage of one or more protein chains
        type: dict
        directives:
          - name: sites
            type: list
            text: List of site shortcodes in form C:R1-R2 where C is chain ID, R1 is resid+ins of residue N-terminal to cleavage site, R2 is residue C-terminal to cleavage site
      - name: domainswap
        text: Parameters controlling a domain swap TMD simulation
        type: dict
        directives:
          - name: cpu-override
            text: revert to cpu version of namd3 since GPUresident namd3 cannot handle restraints (yet)
            type: bool
            default: True
          - name: swap_domain_def
            type: str
            text: VMD atomselect string for the domain; will be appended with "and chain X" for each chain
          - name: anchor_domain_def
            type: str
            text: VMD atomselect string for the anchor domains; will be appended with "and chain X" for each chain
          - name: chain_directional_swaps
            type: list
            text: list of pairs of directional swaps of chainIDs [[A,B], [B,A]] swaps A and B
          - name: force_constant
            type: float
            text: force constant used in biases for domain-swap CV MD simulation (200)
            default: 200.0
          - name: target_numsteps
            type: int
            text: number of timesteps to run the biased MD simulation
            default: 10000
          - name: nsteps
            type: int
            text: number of timesteps to run the biased MD simulation
            default: 10000
          - name: dcdfreq
            type: int
            text: number of timesteps between dcd output
            default: 100
          - name: xstfreq
            text: number of time steps between cell size output to DCD file
            type: int
            default: 100
          - name: temperature
            type: float
            text: temperature of thermostat in MD run
            default: 300
          - name: ensemble
            type: str
            text: ensemble in which MD is run [NVT]
            choices: [minimize, NVT, NPT]
            default: NVT
      - name: solvate
        text: Parameters controlling solvation and ionization
        type: dict
        directives:
          - name: pad
            text: padding value for determining the overall simulation box size (in Angstroms)
            type: float
            default: 10
          - name: salt_con
            text: salt concentration (M); argument for -sc for autoionize
            type: float
          - name: cation
            text: name of cation
            type: string
            options: [SOD, MG, POT, CES, CAL, ZN2]
          - name: anion
            text: name of anion
            type: string
            options: [CLA]
      - name: desolvate
        type: dict
        text: single-shot desolvation (no inheritance)
        directives:
          - name: psf
            type: str
            text: name of input PSF file
          - name: keepatselstr
            type: str
            text: VMD atomselect string for atoms you want to keep
            default: protein or lipid or glycan
          - name: idx_outfile
            type: str
            text: name of output index file for catdcd
            default: dry.idx
          - name: psf_oufile
            type: str
            text: name of output PSF file
            default: dry.psf
          - name: dcd_outfile
            type: str
            text: name of output DCD file
            default: dry.dcd
          - name: dcd_infiles
            type: list
            text: ordered list of names of input DCD files
      - name: ring_check
        text: Parameters controlling pierced-ring checks
        type: dict
        directives:
          - name: delete
            text: which of the piercer or piercee to delete; if none, no deletions are performed
            type: string
            default: piercee
            options: ['piercee','piercer','none']
          - name: cutoff
            text: distance cutoff between bond and ring COM's for checking, Angstroms
            type: float
            default: 10.0
          - name: segtypes
            text: list of segment types to include in the ring-pierce check
            type: list
            default: ['lipid']
      - name: bilayer
        text: Parameters controlling packmol to generate a bilayer system
        type: dict
        directives:
          - name: embed
            text: parameters controlling protein embedding
            type: dict
            directives:
              - name: xydist
                text: distance from perimeter of protein to box edge in x and y (A)
                type: float
                default: 15
              - name: zdist
                text: distance from perimeter of protein to box edge in z (A)
                type: float
                default: 20
              - name: protein_radius_scaling
                text: factor by which to multiply computed protein TM radius to compute membrane excluded area
                type: float
                default: 1.01
              - name: n_ter
                text: in or out; N-termini are usually 'in' for membrane proteins
                type: str
                options: ['in','out']
                default: 'in'
              - name: z_head_group
                text: VMD atomselect string defining head-group of z-axis
                type: str
              - name: z_tail_group
                text: VMD atomselect string defining tail-group of z-axis
                type: str
              - name: z_ref_group
                text: VMD atomselect string defining a center of mass at a specific z
                type: dict
                directive:
                  - name: z_value
                    type: float
                    text: value of z at COM of this group (default 0)
                    default: 0.0
                  - name: text
                    text: the atomselect text
                    type: str
          - name: lipids
            text: declaration of lipids in each leaflet in the format LIP1[:LIP2][//LIP3]
            type: str
            default: POPC  # a pure POPC bilayer
          - name: lipid_conformers
            text: declaration of which conformer index to use for each lipid in the format C1:C2//C3 (defaults to 0)
            type: str
            default: '0'
          - name: mole_fractions
            text: declaration of mole fractions of each lipid in each leaflet in the format R1:R2//R3
            type: str
            default: '1.0'
          - name: solvents
            text: string in form of SOL1:SOL2:...
            type: str
            default: TIP3
          - name: solvent_mole_fractions
            text: string in form of x_1:x_2:...
            type: str
            default: '1.0'
          - name: SAPL
            text: estimate of surface area per lipid (A^2)
            type: float
            default: 60.0
          - name: leaflet_thickness
            text: initial value of leaflet thickness (A)
            type: float
            default: 20.0
          - name: scale_excluded_volume
            text: scaling factor controlling contribution of non-solvent atoms in calculating available chamber volumes
            type: float
            default: 1.0
          - name: fuzz_factor
            text: when tilted a little from the global-z axis, a long molecule longest z-dimension is lower than its longest overall dimension; this difference is called "fuzz".  When packmol places a long molecule with some reference atoms above a z-plane and other reference atoms below that z-plane, this factor is used to assign the "fuzz" to either side of the planes (this is a terrible explanation; see docs)
            type: float
            default: 0.5
          - name: dims
            text: box dimensions (A); must be specified for a bilayer-only system
            type: list
          - name: length_pad
            text: additional length added to longest molecular length when orienting molecules that are parallel to z axis
            type: float
          - name: solution_gcc
            text: solution density in g/cc
            type: float
            default: 1.0
          - name: cation
            text: name of salt cation
            type: str
            default: POT
          - name: anion
            text: name of salt anion
            type: str
            default: CLA
          - name: salt_con
            text: salt concentration in M
            type: float
          - name: nloop
            text: number of packmol GENCAN loops for every component
            type: int
          - name: nloop_all
            text: number of packmol GENCAN loops for altogether packing
            type: int
          - name: tolerance
            text: clash detection tolerance for packmol
            type: float
          - name: seed
            text: RNG seed (optional)
            type: int
      - name: md
        text: Parameters controlling a NAMD run
        type: dict
        directives:
          - name: cpu-override
            text: revert to cpu version of namd3
            type: bool
            default: False
          - name: vacuum
            text: if true, namd will run on a single node even if multiple nodes are allocated
            type: boolean
            default: False
          - name: ensemble
            text: Name of ensemble to run in; note that NPT can only be peformed on a solvated system
            type: str
            choices: [minimize, NVT, NPT]
            default: NVT
          - name: minimize
            text: Number of minimization steps; ignored if ensemble is not 'minimize' (used with the 'minimize' command)
            type: int
            default: 1000
          - name: nsteps
            text: Number of MD time steps; ingored if ensemble is 'minimize' (used with the 'run' command)
            type: int
            default: 2000
          - name: dcdfreq
            text: number of time steps between configuration output to DCD file
            type: int
            default: 100
          - name: xstfreq
            text: number of time steps between cell size output to DCD file
            type: int
            default: 100
          - name: temperature
            text: Temperature (K) for NVT or NPT
            type: float
            default: 300
          - name: pressure
            text: Pressure (bar) for NPT; note that NPT can only be peformed on a solvated system
            type: float
            default: 1
          - name: other_parameters
            text: key:value pairs for other namd2 configuration file statements
            type: dict
          - name: constraints
            text: Parameters controlling position constraints
            type: dict
            directives:
              - name: atoms
                text: Atoms to be position-constrained expressed as a VMD atomselection
                type: string
              - name: k
                text: Restraint spring constant in kcal/mol/A^2
                type: float
              - name: consfile
                text: Name of constraints PDB file (defaults to basename-constraints.pdb)
                type: string
      - name: manipulate
        text: Direct manipulation of atom positions
        type: dict
        directives:
          - name: mods
            text: Specifies modifications to the sequence or structure in the current structure
            type: dict
            directives:
              - name: crotations
                text: dihedral angle rotations to reposition residues
                type: list
              - name: transrot
                text: global translations and rotations
                type: list
      - name: terminate
        text: Task that signals end of task list
        type: dict
        directives:
          - name: basename
            text: Desired basename for final psf/pdb files
            type: str
            default: my_system
          - name: chainmapfile
            text: Desired name of the file describing all chain mapping
            type: str
            default: chainmaps.yaml
          - name: statefile
            text: Desired name of the file describing the current state
            type: str
            default: states.yaml
          - name: package
            text: Task that packages all CHARMM parameter files and pdb/psf/coor/vel/xsc files for a production run
            type: dict
            required: False
            directives:
              - name: basename
                text: Desired basename for final tarball
                type: str
                default: my_system
              - name: ensemble
                text: Name of ensemble to run in; note that NPT can only be peformed on a solvated system
                type: str
                choices: [NVT, NPT]
                default: NVT
              - name: nminsteps
                text: Number of minimization steps
                type: int
                default: 0
              - name: nsteps
                text: Number of MD time steps
                type: int
                default: 1000000
              - name: dcdfreq
                text: number of time steps between configuration output to DCD file
                type: int
                default: 10000
              - name: xstfreq
                text: number of time steps between cell size output to DCD file
                type: int
                default: 10000
              - name: restartfreq
                text: number of timesteps between restart checkpoints
                type: int
                default: 10000
              - name: temperature
                text: Temperature (K) for NVT or NPT
                type: float
                default: 300
              - name: pressure
                text: Pressure (bar) for NPT; note that NPT can only be peformed on a solvated system
                type: float
                default: 1
              - name: topogromacs
                text: Set to True if you want to use topogromacs to generate Gromacs-compatible PDB and TOP files
                type: bool
                default: False
              - name: constraints
                text: Parameters controlling position constraints
                type: dict
                directives:
                  - name: atoms
                    text: Atoms to be position-constrained expressed as a VMD atomselection
                    type: string
                  - name: k
                    text: Restraint spring constant in kcal/mol/A^2
                    type: float
                  - name: consfile
                    text: Name of constraints PDB file (defaults to basename-constraints.pdb)
                    type: string
